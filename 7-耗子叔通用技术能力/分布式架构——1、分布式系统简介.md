#### 分布式简介

##### 一、Why分布式系统?

使用分布式系统主要有两方面原因：

- **增大系统容量**，业务量越来越大，而要能应对越来越大的业务量，一台机器的性能已经无法满足了，我们需要多台机器才能应对大规模的应用场景。
- **加器系统可用**，需要通过分布式架构来冗余系统以消除单点故障，从而提高系统的可用性。

##### 二、单体应用和分布式架构的优缺点

单体应用和分布式架构的优缺点：

<img src="https://liuyang-picbed.oss-cn-shanghai.aliyuncs.com/img/8fecccec610626a3e348318b1fd17791.png" alt="8fecccec610626a3e348318b1fd17791" style="zoom:50%;" />

分布式系统的一些缺点：

- 架构设计变得复杂，尤其是其中的分布式事务
- 部署单个服务会比较快，但是如果一次部署需要多个服务，流程会变得复杂
- 系统的吞吐量会变大，但是响应时间会变长
- 运维复杂度会因为服务变多而变得很复杂
- 架构复杂导致学习曲线变大
- 测试和查错的复杂度增大
- 技术多元化，带来维护和运维的复杂度
- 管理分布式系统中的服务和调度变得滚难和复杂

##### 三、分布式系统的发展

**1、SOA架构**

 SOA——基于服务的架构，是构造分布式计算应用程序的方法。它将应用程序功能作为服务发送给最终用户或者其他服务。它采用开放标准与软件资源进行交互，并采用标准的表示方式。

开发、维护和使用 SOA 要遵循以下几条基本原则：

- 可重用，粒度合适，模块化，可组合，构件化以及有互操作性。
- 符合开放标准（通用的或行业的）。
- 服务的识别和分类，提供和发布，监控和跟踪。

**2、SOA架构的演化**

面向服务的架构有以下三个阶段：

<img src="https://liuyang-picbed.oss-cn-shanghai.aliyuncs.com/img/542f449c5aeffd20a6d66b32c1736f42.png" alt="542f449c5aeffd20a6d66b32c1736f42" style="zoom: 67%;" />

（1）20 世纪 90 年代前，是单体架构，软件模块高度耦合。当然，这张图同样也说明了有的 SOA 架构其实和单体架构没什么两样，因为都是高度耦合在一起的。

（2）2000 年左右出现了比较松耦合的 SOA 架构，这个架构需要一个标准的协议或是中间件来联动其它相关联的服务（如 ESB）。这样一来，服务间并不直接依赖，而是通过中间件的标准协议或是通讯框架相互依赖。

（3）2010 年后，出现了微服务架构，这个架构更为松耦合。每一个微服务都能独立完整地运行（所谓的自包含），后端单体的数据库也被微服务这样的架构分散到不同的服务中。

微服务架构和传统 SOA 的差别在于，服务间的整合需要一个服务编排或是服务整合的引擎。就好像交响乐中需要有一个指挥来把所有乐器编排和组织在一起。



自包含：组件不依赖其他组件，能够以独立的方式供外部使用。

自描述：当前组件包含了自身与其他组件交互相关的描述信息，不需要其他的配置文件或者额外信息来描述。