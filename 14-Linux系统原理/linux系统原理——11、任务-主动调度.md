#### 主动调度

所谓进程调度，其实就是一个人在做 A 项目，在某个时刻，换成做 B 项目去了。发生这种情况，主要有两种方式。

方式一：A 项目做着做着，发现里面有一条指令 sleep，也就是要休息一下，或者在等待某个 I/O 事件。那没办法了，就要主动让出 CPU，然后可以开始做 B 项目。

方式二：A 项目做着做着，旷日持久，实在受不了了。项目经理介入了，说这个项目 A 先停停，B 项目也要做一下，要不然 B 项目该投诉了。

第一种方式，为主动调度。第二种方式，为抢占式调度。

计算机主要处理计算、网络、存储三个方面。计算主要是 CPU 和内存的合作；网络和存储则多是和外部设备的合作；在操作外部设备的时候，往往需要让出 CPU，就像上面两段代码一样，选择调用 schedule() 函数。

进程的调度都最终会调用到 __schedule 函数。



涉及源码较多，先暂时记一个脑图，后期有能力了再研究。

<img src="https://liuyang-picbed.oss-cn-shanghai.aliyuncs.com/img/9f4433e82c78ed5cd4399b4b116a9064.png" alt="img" style="zoom:67%;" />